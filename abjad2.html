<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="ูุญุงุณุจูโฺฏุฑ ุญุฑูโุดูุงุณ ุนุฏุฏ - ุงุจุฌุฏุ ฺฏูุงุชุฑุงุ ุงุฒููพุณู">
    <meta name="theme-color" content="#6366f1">
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    
    <title>ูุญุงุณุจูโฺฏุฑ ุงุจุฌุฏ | Abjad Calculator</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- ุขฺฉููโูุง -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
    <div class="app">
        <!-- ููุงุฑ ุจุงูุง -->
        <header class="header">
            <div class="header-content">
                <h1 class="logo">
                    <i class="fas fa-calculator"></i>
                    <span data-i18n="app.title">ูุญุงุณุจูโฺฏุฑ ุงุจุฌุฏ</span>
                </h1>
                <div class="header-actions">
                    <!-- ุงูุชุฎุงุจ ุฒุจุงู ุฑุงุจุท ฺฉุงุฑุจุฑ -->
                    <select id="uiLanguage" class="select-minimal" aria-label="ุฒุจุงู ุฑุงุจุท ฺฉุงุฑุจุฑ">
                        <option value="fa">๐ฎ๐ท ูุงุฑุณ</option>
                        <option value="ar">๐ธ๐ฆ ุงูุนุฑุจูุฉ</option>
                        <option value="en">๐ฌ๐ง English</option>
                        <option value="he">๐ฎ๐ฑ ืขืืจืืช</option>
                    </select>
                    
                    <!-- ุชู -->
                    <button id="themeToggle" class="btn-icon" aria-label="ุชุบุฑ ุชู">
                        <i class="fas fa-moon"></i>
                    </button>
                    
                    <!-- ุชูุธูุงุช -->
                    <button id="settingsBtn" class="btn-icon" aria-label="ุชูุธูุงุช">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
            </div>
        </header>

        <!-- ูุญุชูุง ุงุตู -->
        <main class="main">
            <div class="container">
                <!-- ฺฉุงุฑุช ูุฑูุฏ -->
                <div class="card">
                    <div class="card-header">
                        <h2 data-i18n="input.title">ูุฑูุฏ ูุชู</h2>
                        <div class="input-options">
                            <!-- ุงูุชุฎุงุจ ุฒุจุงู ูุญุงุณุจู -->
                            <select id="calcLanguage" class="select-primary">
                                <option value="fa">ูุญุงุณุจู ูุงุฑุณ (ุงุจุฌุฏ)</option>
                                <option value="ar">ูุญุงุณุจู ุนุฑุจ (ุญุณุงุจ ุงูุฌููููู)</option>
                                <option value="en">ูุญุงุณุจู ุงูฺฏูุณ (English Gematria)</option>
                                <option value="he">ูุญุงุณุจู ุนุจุฑ (ืืืืืจืื)</option>
                                <option value="custom">ุงูฺฏู ุณูุงุฑุด</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="card-body">
                        <!-- ูุงุญู ูุฑูุฏ ูุชู -->
                        <div class="input-wrapper">
                            <textarea 
                                id="textInput" 
                                class="text-input"
                                placeholder="ูุชู ุฎูุฏ ุฑุง ุงูุฌุง ูุงุฑุฏ ฺฉูุฏ..."
                                rows="4"
                                data-i18n-placeholder="input.placeholder"
                            ></textarea>
                            <div class="input-tools">
                                <button id="clearBtn" class="btn-text">
                                    <i class="fas fa-eraser"></i> ูพุงฺฉ ฺฉุฑุฏู
                                </button>
                                <button id="pasteBtn" class="btn-text">
                                    <i class="fas fa-paste"></i> ฺุณุจุงูุฏู
                                </button>
                                <button id="keyboardBtn" class="btn-text">
                                    <i class="fas fa-keyboard"></i> ุตูุญูโฺฉูุฏ
                                </button>
                            </div>
                        </div>
                        
                        <!-- ุฏฺฉูู ูุญุงุณุจู -->
                        <button id="calculateBtn" class="btn-primary">
                            <i class="fas fa-calculator"></i>
                            <span data-i18n="button.calculate">ูุญุงุณุจู ฺฉู</span>
                        </button>
                    </div>
                </div>

                <!-- ฺฉุงุฑุช ูุชุงุฌ -->
                <div id="resultsCard" class="card hidden">
                    <div class="card-header">
                        <h2 data-i18n="results.title">ูุชุงุฌ ูุญุงุณุจู</h2>
                        <div class="result-actions">
                            <button id="saveBtn" class="btn-text">
                                <i class="fas fa-save"></i>
                            </button>
                            <button id="shareBtn" class="btn-text">
                                <i class="fas fa-share"></i>
                            </button>
                            <button id="exportBtn" class="btn-text">
                                <i class="fas fa-download"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="card-body">
                        <!-- ููุงุด ูุฌููุน -->
                        <div class="result-summary">
                            <div class="total-value">
                                <span class="label">ูุฌููุน:</span>
                                <span id="totalValue" class="value">0</span>
                            </div>
                            <div class="result-meta">
                                <span id="wordCount"></span>
                                <span id="charCount"></span>
                            </div>
                        </div>
                        
                        <!-- ุฌุฏูู ุชูฺฉฺฉ -->
                        <div class="result-details">
                            <table id="detailsTable" class="details-table">
                                <thead>
                                    <tr>
                                        <th>ุญุฑู</th>
                                        <th>ููุฏุงุฑ</th>
                                        <th>ุชฺฉุฑุงุฑ</th>
                                        <th>ูุฌููุน</th>
                                    </tr>
                                </thead>
                                <tbody></tbody>
                            </table>
                        </div>
                        
                        <!-- ูููุฏุงุฑ -->
                        <div class="chart-container">
                            <canvas id="resultChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- ุชุงุฑุฎฺู -->
                <div class="card">
                    <div class="card-header">
                        <h2 data-i18n="history.title">ุชุงุฑุฎฺู</h2>
                        <button id="clearHistoryBtn" class="btn-text">
                            <i class="fas fa-trash"></i> ูพุงฺฉ ฺฉุฑุฏู
                        </button>
                    </div>
                    <div class="card-body">
                        <div id="historyList" class="history-list"></div>
                    </div>
                </div>
            </div>
        </main>

        <!-- ููุฏุงู ุชูุธูุงุช -->
        <div id="settingsModal" class="modal hidden">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>ุชูุธูุงุช</h3>
                    <button class="modal-close">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- ุชูุธูุงุช ุงูฺฏู ุณูุงุฑุด -->
                    <div class="settings-section">
                        <h4>ุงูฺฏู ูุญุงุณุจู ุณูุงุฑุด</h4>
                        <div id="customPatternEditor"></div>
                        <button id="savePatternBtn" class="btn-secondary">
                            ุฐุฎุฑู ุงูฺฏู
                        </button>
                    </div>
                    
                    <!-- ุชูุธูุงุช ููุงุด -->
                    <div class="settings-section">
                        <h4>ุชูุธูุงุช ููุงุด</h4>
                        <label class="checkbox">
                            <input type="checkbox" id="showChart" checked>
                            <span>ููุงุด ูููุฏุงุฑ</span>
                        </label>
                        <label class="checkbox">
                            <input type="checkbox" id="showDetails" checked>
                            <span>ููุงุด ุฌุฒุฆุงุช</span>
                        </label>
                    </div>
                </div>
            </div>
        </div>

        <!-- ฺฉุจูุฑุฏ ูุฌุงุฒ -->
        <div id="virtualKeyboard" class="keyboard hidden"></div>
    </div>

    <!-- Service Worker -->
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <!-- ุงุณฺฉุฑูพุช ุงุตู -->
    <script src="script.js"></script>
</body>
</html>
